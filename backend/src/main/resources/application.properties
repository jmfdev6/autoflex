# Application
quarkus.application.name=autoflex-backend
quarkus.application.version=1.0.0

# Server
quarkus.http.port=8081
# Cloud Run usa porta 8080 e pode ser configurada via variável PORT
%prod.quarkus.http.port=${PORT:8080}
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:5173,http://localhost:3000,http://localhost:8080
# CORS para produção - ajuste com seu domínio do frontend
%prod.quarkus.http.cors.origins=${CORS_ORIGINS:*}
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with,origin
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS,PATCH

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.autoflex".level=DEBUG

# Database - PostgreSQL (Development)
%dev.quarkus.datasource.db-kind=postgresql
%dev.quarkus.datasource.username=autoflex
%dev.quarkus.datasource.password=autoflex123
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/autoflex
%dev.quarkus.hibernate-orm.database.generation=drop-and-create
%dev.quarkus.hibernate-orm.log.sql=true

# Database - PostgreSQL (Docker Compose)
%docker.quarkus.datasource.db-kind=postgresql
%docker.quarkus.datasource.username=${DB_USERNAME:autoflex}
%docker.quarkus.datasource.password=${DB_PASSWORD:autoflex123}
%docker.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://postgres:5432/autoflex}
%docker.quarkus.hibernate-orm.database.generation=drop-and-create
%docker.quarkus.hibernate-orm.log.sql=true

# Database - PostgreSQL (Production - GCP Cloud Run)
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.username=${DB_USERNAME:autoflex}
%prod.quarkus.datasource.password=${DB_PASSWORD}
%prod.quarkus.datasource.jdbc.url=${DB_URL}
%prod.quarkus.hibernate-orm.database.generation=none
%prod.quarkus.hibernate-orm.log.sql=false

# Hibernate
quarkus.hibernate-orm.packages=com.autoflex.entity
quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect

# Jackson
quarkus.jackson.fail-on-unknown-properties=false

# Health Check
quarkus.smallrye-health.root-path=/health

# OpenAPI / Swagger
quarkus.smallrye-openapi.info-title=Autoflex Backend API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=REST API para gerenciamento de produtos, matérias-primas e sugestões de produção
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
